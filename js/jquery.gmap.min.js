/*!
 *  GMAP3 Plugin for jQuery
 *  Version  : 7.1
 *  Date     : 2016/04/17
 *  Author   : DEMONTE Jean-Baptiste
 *  Contact  : jbdemonte@gmail.com
 *  Web site : http://gmap3.net
 *  Licence  : GPL-3.0+
 */
(function(z,F,e){var j,m={},E,C=z.when,k=z.extend,s=z.isArray,o=z.isFunction,B=z.Deferred;
function p(L){return k(true,{},L||{});}function n(){var M=Array.prototype.slice,L=M.call(arguments,1);return M.apply(arguments[0],L);}function r(L){return typeof L==="undefined";
}function q(L){return C.apply(z,L);}function G(L){return C().then(function(){return L;});}function I(T,S){var L=Math,M=L.PI,Q=M*T.lat()/180,P=M*T.lng()/180,O=M*S.lat()/180,N=M*S.lng()/180,U=L.cos,R=L.sin;
return 1000*6371*L.acos(L.min(U(Q)*U(O)*U(P)*U(N)+U(Q)*R(P)*U(O)*R(N)+R(Q)*R(O),1));}function g(L){if(e.readyState!="loading"){L();}else{e.addEventListener("DOMContentLoaded",L);
}}function f(L){return c(L).map(function(M){return encodeURIComponent(M)+"="+encodeURIComponent(L[M]);}).join("&");}(function(){var L=B(),N="__gmap3",M;
z.holdReady(true);g(function(){if(F.google&&F.google.maps||E===false){L.resolve();}else{F[N]=function(){delete F[N];L.resolve();};M=e.createElement("script");
M.type="text/javascript";M.src="https://maps.googleapis.com/maps/api/js?callback="+N+(E?"&"+(typeof E==="string"?E:f(E)):"");z("head").append(M);}});return L.promise();
})().then(function(){z.holdReady(false);});function d(L){if(!m[L]){m[L]=y(L);}return m[L];}function y(M){var L=j[M];function N(O){return L.apply(this,O);
}N.prototype=L.prototype;return new N(n(arguments,1));}function b(M){var L=B();if(typeof M==="string"){M={address:M};}d("Geocoder").geocode(M,function(O,N){if(N===j.GeocoderStatus.OK){L.resolve(O[0].geometry.location);
}else{L.reject();}});return L;}function A(M,L){M.split(" ").forEach(L);}function i(L,M){(s(L)?L:[L]).forEach(M);}function c(L){return Object.keys(L);}function h(L){return c(L).map(function(M){return L[M];
});}function a(L,M){L=p(L);if(L.bounds){L.bounds=l(L.bounds);}return G(M(L));}function x(M,N,O){var L=B();M=p(M);C().then(function(){var P=M.address;if(P){delete M.address;
return b(P).then(function(Q){M[N]=Q;});}M[N]=H(M[N]);}).then(function(){L.resolve(O(M));});return L;}function t(L,M,N){L=p(L);L[M]=(L[M]||[]).map(function(O){return H(O);
});return G(N(L));}function H(M,L){return s(M)?new j.LatLng(M[0],M[1]):(L&&M&&!(M instanceof j.LatLng)?new j.LatLng(M.lat,M.lng):M);}function l(M,L){if(s(M)){return new j.LatLngBounds({lat:M[2],lng:M[3]},{lat:M[0],lng:M[1]});
}else{if(L&&!M.getCenter){return new j.LatLngBounds({lat:M.south,lng:M.west},{lat:M.north,lng:M.east});}}return M;}function J(P,M){var O=j.OverlayView;
var L=z(e.createElement("div")).css({border:"none",borderWidth:0,position:"absolute"}).append(M.content);M=k({x:0,y:0},M);if(M.position){M.position=H(M.position,true);
}else{if(M.bounds){M.bounds=l(M.bounds,true);}}function N(){var Q=this,S=[];O.call(Q);Q.setMap(P);function R(T){return Q.getProjection().fromLatLngToDivPixel(T);
}Q.onAdd=function(){var T=Q.getPanes();T.overlayMouseTarget.appendChild(L[0]);};if(M.position){Q.getPosition=function(){return M.position;};Q.setPosition=function(T){M.position=T;
Q.draw();};Q.draw=function(){var T=R(M.position);L.css({left:(T.x+M.x)+"px",top:(T.y+M.y)+"px"});};}else{Q.getBounds=function(){return M.bounds;};Q.setBounds=function(T){M.bounds=T;
Q.draw();};Q.draw=function(){var T=R(M.bounds.getSouthWest());var U=R(M.bounds.getNorthEast());L.css({left:(T.x+M.x)+"px",top:(U.y+M.y)+"px",width:(U.x-T.x+M.x)+"px",height:(T.y-U.y+M.y)+"px"});
};}Q.onRemove=function(){S.map(function(T){j.event.removeListener(T);});L.remove();Q.$=L=null;};Q.$=L;}N.prototype=new O();return new N();}function u(N){function L(){var O=this;
O.onAdd=O.onRemove=O.draw=function(){};return j.OverlayView.call(O);}L.prototype=new j.OverlayView();var M=new L();M.setMap(N);return M.getProjection();
}function D(L,P,N,O){var M=this;M.cluster=L;M.markers=P;M.$=N.$;M.overlay=N;N.getBounds=function(){return y("LatLngBounds",O.getSouthWest(),O.getNorthEast());
};}function v(Z,L){var Q,ab,X,aa,P,R=this,W=[],M=(L.size||200)>>1,O=true,ac={},T=[];L=L||{};L.markers=L.markers||[];R._b=function(ad){ad(h(ac));T.push(ad);
};R.markers=function(){return n(W);};R.groups=function(){return h(ac);};R.enable=function(){if(!O){O=true;X="";Y();}};R.disable=function(){if(O){O=false;
X="";Y();}};R.add=function(ad){W.push(ad);X="";Y();};R.remove=function(ad){W=W.filter(function(ae){return ae!==ad;});X="";Y();};R.filter=function(ad){if(P!==ad){P=ad;
X="";Y();}};function N(){var ad=y("Circle",{center:Z.getCenter(),radius:1.15*I(Z.getCenter(),Z.getBounds().getNorthEast())});return ad.getBounds();}function S(ad){var ae=aa.fromLatLngToDivPixel(ad);
return y("LatLngBounds",aa.fromDivPixelToLatLng(y("Point",ae.x-M,ae.y+M)),aa.fromDivPixelToLatLng(y("Point",ae.x+M,ae.y-M)));}L.markers.map(function(ad){ad.position=H(ad.position);
W.push(y("Marker",ad));});function V(){var al,ad,ae,ah,ai,af,am=Z.getZoom(),ag={},ak=[],aj={};af=""+am;if(am>3){ad=N();i(W,function(an,ao){if(!ad.contains(an.getPosition())){af+="-"+ao;
aj[ao]=true;if(an.getMap()){an.setMap(null);}}});}if(P){i(W,function(an,ao){if(!aj[ao]&&!P(an)){af+="-"+ao;aj[ao]=true;if(an.getMap()){an.setMap(null);
}}});}if(af===X){return;}X=af;i(W,function(an,ao){if(aj[ao]){return;}al=[ao];ad=S(an.getPosition());if(O){i(n(W,ao+1),function(aq,ap){ap+=ao+1;if(!aj[ap]&&ad.contains(aq.getPosition())){al.push(ap);
aj[ap]=true;}});}ah=al.join("-");ag[ah]=true;if(ac[ah]){return;}ai=al.map(function(ap){return W[ap];});ae=L.cb(n(ai));if(ae){ad=y("LatLngBounds");i(ai,function(ap){ad.extend(ap.getPosition());
if(ap.getMap()){ap.setMap(null);}});ae=p(ae);ae.position=ad.getCenter();ac[ah]=new D(R,n(ai),J(Z,ae),ad);ak.push(ac[ah]);}else{i(ai,function(ap){if(!ap.getMap()){ap.setMap(Z);
}});}});i(c(ac),function(an){if(!ag[an]){ac[an].overlay.setMap(null);delete ac[an];}});if(ak.length){i(T,function(an){an(ak);});}}function Y(){clearTimeout(Q);
Q=setTimeout(V,100);}function U(){j.event.addListener(Z,"zoom_changed",Y);j.event.addListener(Z,"bounds_changed",Y);V();}ab=setInterval(function(){aa=u(Z);
if(aa){clearInterval(ab);U();}},10);}z.gmap3=function(L){E=L;};z.fn.gmap3=function(M){var L=[];j=F.google.maps;this.each(function(){var N=z(this),O=N.data("gmap3");
if(!O){O=new K(N,M);N.data("gmap3",O);}L.push(O);});return new w(this,L);};function w(N,M){var L=this;c(M[0]).forEach(function(O){L[O]=function(){var Q=[],P=n(arguments);
M.forEach(function(R){Q.push(R[O].apply(R,P));});return O==="get"?(Q.length>1?Q:Q[0]):L;};});L.$=N;}function K(Q,U){var L,O=[],T=C(),R=this;function M(){return{$:Q,get:R.get};
}function P(W,Y,V,X){var Z=arguments.length>3;if(!Z){X=V;}z.each(W,function(ab,aa){i(Y,function(ac){var af=ac instanceof D;var ae=af||(ac instanceof j.OverlayView);
var ad=ae?ac.$.get(0):ac;j.event["add"+(ae?"Dom":"")+"Listener"+(X?"Once":"")](ad,ab,function(ag){i(aa,function(ai){if(o(ai)){if(af){ai.call(M(),undefined,ac,ac.cluster,ag);
}else{if(Z){var ah=n(V);ah.unshift(ac);ah.push(ag);ai.apply(M(),ah);}else{ai.call(M(),ac,ag);}}}});});});});}function S(V){return function(W){if(s(W)){var Y=[];
var X=W.map(function(Z){return V.call(R,Z).then(function(aa){Y.push(aa);});});return q(X).then(function(){O.push(Y);return Y;});}else{return V.apply(R,arguments).then(function(Z){O.push(Z);
return Z;});}};}function N(V){return function(){var W=n(arguments);T=T.then(function(X){if(o(W[0])){return C(W[0].call(M(),X)).then(function(Y){W[0]=Y;
return V.apply(R,W);});}return C(V.apply(R,W));});return T;};}R.map=N(function(V){return L||x(V,"center",function(W){L=y("Map",Q.get(0),W);O.push(L);return L;
});});A("Marker:position Circle:center InfoWindow:position:0 Polyline:path Polygon:paths",function(V){V=V.split(":");var W=V[1]||"";R[V[0].toLowerCase()]=N(S(function(X){return(W.match(/^path/)?t:x)(X,W,function(Y){if(V[2]!=="0"){Y.map=L;
}return y(V[0],Y);});}));});A("TrafficLayer TransitLayer BicyclingLayer",function(V){R[V.toLowerCase()]=N(function(){var W=y(V);O.push(W);W.setMap(L);return W;
});});R.kmllayer=N(S(function(V){V=p(V);V.map=L;return C(y("KmlLayer",V));}));R.rectangle=N(S(function(V){return a(V,function(W){W.map=L;return y("Rectangle",W);
});}));R.overlay=N(S(function(V){function W(X){return J(L,X);}V=p(V);return V.bounds?a(V,W):x(V,"position",W);}));R.groundoverlay=N(function(W,X,V){return a({bounds:X},function(Z){V=p(V);
V.map=L;var Y=y("GroundOverlay",W,Z.bounds,V);O.push(Y);return Y;});});R.styledmaptype=N(function(W,Y,X){var V=y("StyledMapType",Y,X);O.push(V);L.mapTypes.set(W,V);
return V;});R.streetviewpanorama=N(function(V,W){return x(W,"position",function(Y){var X=y("StreetViewPanorama",z(V).get(0),Y);L.setStreetView(X);O.push(X);
return X;});});R.route=N(function(W){var V=B();W=p(W);W.origin=H(W.origin);W.destination=H(W.destination);d("DirectionsService").route(W,function(Y,X){O.push(Y);
V.resolve(X===j.DirectionsStatus.OK?Y:false);});return V;});R.cluster=N(function(W){var V=new v(L,p(W));O.push(V);return G(V);});R.directionsrenderer=N(function(W){var V;
if(W){W=p(W);W.map=L;if(W.panel){W.panel=z(W.panel).get(0);}V=y("DirectionsRenderer",W);}O.push(V);return V;});R.latlng=N(S(function(V){return x(V,"latlng",function(W){O.push(W.latlng);
return W.latlng;});}));R.fit=N(function(){var V=y("LatLngBounds");i(O,function(W){if(W!==L){i(W,function(X){if(X){if(X.getPosition&&X.getPosition()){V.extend(X.getPosition());
}else{if(X.getBounds&&X.getBounds()){V.extend(X.getBounds().getNorthEast());V.extend(X.getBounds().getSouthWest());}else{if(X.getPaths&&X.getPaths()){i(X.getPaths().getArray(),function(Y){i(Y.getArray(),function(Z){V.extend(Z);
});});}else{if(X.getPath&&X.getPath()){i(X.getPath().getArray(),function(Y){V.extend(Y);});}else{if(X.getCenter&&X.getCenter()){V.extend(X.getCenter());
}}}}}}});}});if(!V.isEmpty()){L.fitBounds(V);}return true;});R.wait=function(V){T=T.then(function(X){var W=B();setTimeout(function(){W.resolve(X);},V);
return W;});};R.then=function(V){if(o(V)){T=T.then(function(W){return C(V.call(M(),W)).then(function(X){return r(X)?W:X;});});}};A("on once",function(V,W){R[V]=function(){var X=arguments[0];
if(X){if(typeof X==="string"){X={};X[arguments[0]]=n(arguments,1);}T.then(function(Y){if(Y){if(Y instanceof v){Y._b(function(Z){if(Z&&Z.length){P(X,Z,W);
}});return P(X,Y.markers(),[undefined,Y],W);}P(X,Y,W);}});}};});R.get=function(V){if(r(V)){return O.map(function(W){return s(W)?W.slice():W;});}else{if(V<0){V=O.length+V;
}return s(O[V])?O[V].slice():O[V];}};if(U){R.map(U);}}})(jQuery,window,document);